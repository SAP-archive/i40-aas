dist: trusty
language: node_js
git:
  depth: 1

script:
  - printenv

before_install:
  - echo "NPM TESTS"

install:
  - echo "SKIP."
  - ls -a
  - node --version
  - npm install express
  - echo "NPM BUILD"

before_deploy:
  - echo "GIT LOGIN, BRANCH AND COMMIT"

deploy:
  - provider: script
    script: echo "GIT PUSH TO BRANCH"
    on:
      all_branches: true
      condition: $TRAVIS_TAG =~ /^((v([0-9]+)\.([0-9]+)\.([0-9]+)(?:-([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?)(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?)$/
